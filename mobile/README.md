# ğŸ  HomeworkGuardian - å„¿ç«¥ä½œä¸šç›‘æ§ç³»ç»Ÿ

[![License](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)
[![Platform](https://img.shields.io/badge/Platform-iOS%20%7C%20Android-green.svg)]()
[![AI](https://img.shields.io/badge/AI-CoreML%20%7C%20TFLite-orange.svg)]()

> åŸºäºè¾¹ç¼˜è®¡ç®—çš„å„¿ç«¥å­¦ä¹ ç›‘æ§ç³»ç»Ÿï¼Œç»“åˆ AI å§¿æ€æ£€æµ‹ã€å®æ—¶ç›‘æ§å’Œäº‘ç«¯æ·±åº¦åˆ†æã€‚

## ğŸ“± é¢„è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ  HomeworkGuardian                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸŸ¢ æ­£åœ¨ç›‘æ§ å°æ˜                           â”‚
â”‚                                             â”‚
â”‚  ğŸ“Š å­¦ä¹ ä¸­                                 â”‚
â”‚                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚2.5h  â”‚ â”‚ 85%  â”‚ â”‚ 3æ¬¡  â”‚              â”‚
â”‚  â”‚å­¦ä¹ æ—¶é•¿â”‚ â”‚ä¸“æ³¨åº¦â”‚ â”‚è­¦å‘Š  â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                             â”‚
â”‚  [æ‘„åƒå¤´]        [å¼€å§‹ç›‘æ§]                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ç³»ç»Ÿæ¶æ„å›¾                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æ‰‹æœºç«¯ App     â”‚     â”‚   äº‘ç«¯æœåŠ¡å™¨     â”‚     â”‚   å®¶é•¿ç«¯        â”‚
â”‚  (è¾¹ç¼˜è®¡ç®—è®¾å¤‡)  â”‚â”€â”€â”€â”€â–¶â”‚   (GPU åŠ é€Ÿ)    â”‚â”€â”€â”€â”€â–¶â”‚   (æ¥æ”¶é€šçŸ¥)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                       â”‚
        â”‚ â—€â”€ æœ¬åœ° AI æ ‡è®° â”€â”€â”€â”€â–¶â”‚
        â”‚ â—€â”€ å…³é”®ç‰‡æ®µä¸Šä¼  â”€â”€â”€â”€â”€â–¶â”‚
        â”‚                       â”‚
   æ‘„åƒå¤´é‡‡é›†              æ•°æ®å­˜å‚¨
   æœ¬åœ° AI æ¨ç†            æ·±åº¦åˆ†æ
   æ™ºèƒ½æ ‡è®°                æ¨¡å‹æ¨ç†
   è§†é¢‘å‹ç¼©                æŠ¥å‘Šç”Ÿæˆ
```

### æŠ€æœ¯é€‰å‹

| å±‚çº§ | æŠ€æœ¯ | è¯´æ˜ |
|------|------|------|
| **æ‰‹æœºç«¯ UI** | Flutter | è·¨å¹³å° (iOS/Android) |
| **æœ¬åœ° AI** | CoreML (iOS) / TFLite (Android) | è¾¹ç¼˜è®¡ç®—åŠ é€Ÿ |
| **å§¿æ€æ£€æµ‹** | MediaPipe / Vision Framework | å®æ—¶å§¿æ€åˆ†æ |
| **æœåŠ¡å™¨** | FastAPI + Python | REST API |
| **GPU åŠ é€Ÿ** | CUDA + PyTorch | æœåŠ¡ç«¯æ·±åº¦å­¦ä¹  |
| **æ•°æ®åº“** | PostgreSQL + Redis | æ•°æ®å­˜å‚¨ä¸ç¼“å­˜ |
| **æ¨é€** | flutter_local_notifications | æœ¬åœ°é€šçŸ¥ |

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### æ‰‹æœºç«¯ (Mobile App)

| åŠŸèƒ½ | æè¿° |
|------|------|
| ğŸ“¹ å®æ—¶ç›‘æ§ | æ‘„åƒå¤´å®æ—¶é‡‡é›†è§†é¢‘æµ |
| ğŸ¤– æœ¬åœ° AI æ¨ç† | è½»é‡çº§æ¨¡å‹æ£€æµ‹å­¦ä¹ /ç¦»å¼€/ç©è€çŠ¶æ€ |
| ğŸ·ï¸ æ™ºèƒ½æ ‡è®° | è‡ªåŠ¨ä¸ºè§†é¢‘ç‰‡æ®µæ‰“æ ‡ç­¾ |
| ğŸ“¦ æ•°æ®å‹ç¼© | å…³é”®å¸§æå–ï¼Œå‡å°‘ä¼ è¾“å¸¦å®½ |
| â˜ï¸ è¾¹ç¼˜ä¸Šä¼  | åªä¸Šä¼ éœ€è¦æ·±åº¦åˆ†æçš„ç‰‡æ®µ |
| ğŸ”” æ¨é€é€šçŸ¥ | ç¦»å¼€/ç©è€æ—¶å®æ—¶æé†’ |
| ğŸ’¾ æœ¬åœ°å­˜å‚¨ | SQLite ç¦»çº¿æ•°æ®å­˜å‚¨ |
| â¬†ï¸ åå°ä¸Šä¼  | è‡ªåŠ¨åŒæ­¥æ•°æ®åˆ°æœåŠ¡å™¨ |

### æœåŠ¡å™¨ç«¯ (Server)

| åŠŸèƒ½ | æè¿° |
|------|------|
| ï¿½æ¥æ”¶æ•°æ® | æ¥æ”¶æ‰‹æœºç«¯ä¸Šä¼ çš„æ ‡è®°æ•°æ®å’Œè§†é¢‘ç‰‡æ®µ |
| ğŸ§  æ·±åº¦åˆ†æ | GPU åŠ é€Ÿçš„å¤æ‚è¡Œä¸ºè¯†åˆ« |
| ğŸ“Š æŠ¥å‘Šç”Ÿæˆ | æ¯æ—¥/æ¯å‘¨å­¦ä¹ ç»Ÿè®¡æŠ¥å‘Š |
| ğŸ“§ é‚®ä»¶æ¨é€ | å®šæ—¶å‘é€å­¦ä¹ æŠ¥å‘Š + å¼‚å¸¸æé†’ |
| ğŸ“ˆ æ•°æ®å¯è§†åŒ– | å­¦ä¹ è¶‹åŠ¿å›¾è¡¨ |

### æ£€æµ‹ç®—æ³•

```
æ‘„åƒå¤´å¸§ â†’ å¹³å°ç‰¹å®š AI æ¨¡å‹ â†’ è¡Œä¸ºåˆ†æ â†’ çŠ¶æ€æ ‡è®°
    â”‚
    â”œâ”€ [ç½®ä¿¡åº¦ > 90%]
    â”‚   â”œâ”€ æœ¬åœ°å­˜å‚¨å…ƒæ•°æ®
    â”‚   â””â”€ æ˜¾ç¤ºçŠ¶æ€ (å­¦ä¹ /ç¦»å¼€/ç©è€)
    â”‚
    â””â”€ [ç½®ä¿¡åº¦ < 90%]
        â”œâ”€ æ ‡è®°è¯¥ç‰‡æ®µ
        â”œâ”€ å‹ç¼©è§†é¢‘
        â””â”€ ä¸Šä¼ æœåŠ¡å™¨æ·±åº¦åˆ†æ
```

### æé†’è§„åˆ™

| åœºæ™¯ | è§¦å‘æ¡ä»¶ | åŠ¨ä½œ |
|------|---------|------|
| ç¦»å¼€æé†’ | ç¦»å¼€ > 15 åˆ†é’Ÿ (å¯é…ç½®) | æ¨é€ + é‚®ä»¶ |
| è¾¹ç©è¾¹å­¦ | ç©è€ > 5 åˆ†é’Ÿ (å¯é…ç½®) | æ¨é€ + é‚®ä»¶ |
| å­¦ä¹ å¼€å§‹ | æ£€æµ‹åˆ°å­¦ä¹ çŠ¶æ€ | é€šçŸ¥å®¶é•¿ |
| å­¦ä¹ ç»“æŸ | ç›‘æ§åœæ­¢ | å‘é€æŠ¥å‘Š |

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
homework-guardian/
â”œâ”€â”€ docs/                          # æ–‡æ¡£
â”‚   â”œâ”€â”€ SPEC_FULL.md              # å®Œæ•´è§„èŒƒ
â”‚   â”œâ”€â”€ SPEC_UPDATED.md           # æ›´æ–°è§„èŒƒ
â”‚   â””â”€â”€ IMPLEMENTATION_PLAN.md   # å®æ–½è®¡åˆ’
â”‚
â”œâ”€â”€ mobile/                        # æ‰‹æœºç«¯ (Flutter)
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ main.dart            # ä¸»ç•Œé¢
â”‚   â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”‚   â””â”€â”€ models.dart     # æ•°æ®æ¨¡å‹
â”‚   â”‚   â””â”€â”€ services/
â”‚   â”‚       â”œâ”€â”€ ai_detection.dart           # AI æ¥å£
â”‚   â”‚       â”œâ”€â”€ ios_ai_detection.dart       # iOS CoreML
â”‚   â”‚       â”œâ”€â”€ android_ai_detection.dart   # Android TFLite
â”‚   â”‚       â”œâ”€â”€ database_service.dart       # SQLite
â”‚   â”‚       â”œâ”€â”€ notification_service.dart    # æ¨é€é€šçŸ¥
â”‚   â”‚       â”œâ”€â”€ upload_service.dart          # åå°ä¸Šä¼ 
â”‚   â”‚       â”œâ”€â”€ video_service.dart           # è§†é¢‘å‹ç¼©
â”‚   â”‚       â”œâ”€â”€ api_client.dart             # API å®¢æˆ·ç«¯
â”‚   â”‚       â””â”€â”€ session_manager.dart        # ä¼šè¯ç®¡ç†
â”‚   â”œâ”€â”€ android/                  # Android é…ç½®
â”‚   â”‚   â””â”€â”€ app/build.gradle    # TFLite ä¾èµ–
â”‚   â”œâ”€â”€ ios/                     # iOS é…ç½®
â”‚   â”‚   â””â”€â”€ Podfile             # CoreML ä¾èµ–
â”‚   â””â”€â”€ pubspec.yaml            # Flutter ä¾èµ–
â”‚
â””â”€â”€ server/                      # æœåŠ¡å™¨ç«¯ (Python)
    â”œâ”€â”€ Dockerfile               # GPU é•œåƒ
    â”œâ”€â”€ docker-compose.yml       # ä¸€é”®éƒ¨ç½²
    â”œâ”€â”€ main.py                  # FastAPI ä¸»åº”ç”¨
    â”œâ”€â”€ api/routes.py            # API è·¯ç”±
    â”œâ”€â”€ core/config.py           # é…ç½®
    â”œâ”€â”€ models/schemas.py       # æ•°æ®æ¨¡å‹
    â””â”€â”€ services/
        â”œâ”€â”€ gpu_detector.py           # GPU æ£€æµ‹
        â”œâ”€â”€ pose_detector.py          # MediaPipe å§¿æ€
        â”œâ”€â”€ analysis_service.py       # åˆ†ææœåŠ¡
        â”œâ”€â”€ alert_service.py          # æé†’é€»è¾‘
        â”œâ”€â”€ email_service.py          # é‚®ä»¶æ¨é€
        â””â”€â”€ sound_alert.py           # å£°éŸ³æé†’
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. æœåŠ¡å™¨ç«¯éƒ¨ç½²

#### å‰ç½®è¦æ±‚

- Docker + Docker Compose
- NVIDIA GPU (RTX 5070ti+)
- CUDA 12.x

#### å¯åŠ¨æœåŠ¡

```bash
# 1. è¿›å…¥æœåŠ¡å™¨ç›®å½•
cd server

# 2. æ„å»ºå¹¶å¯åŠ¨
docker compose up -d --build

# 3. æ£€æŸ¥çŠ¶æ€
docker ps

# 4. æŸ¥çœ‹æ—¥å¿—
docker logs -f homework-guardian-server
```

#### é…ç½®é‚®ä»¶

ç¼–è¾‘ `server/.env`:

```env
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password
```

---

### 2. æ‰‹æœºç«¯å¼€å‘

#### å‰ç½®è¦æ±‚

- Flutter 3.x SDK
- Android Studio / Xcode
- (å¯é€‰) TFLite æ¨¡å‹æ–‡ä»¶
- (å¯é€‰) CoreML æ¨¡å‹æ–‡ä»¶

#### å®‰è£…ä¾èµ–

```bash
# è¿›å…¥ç§»åŠ¨ç«¯ç›®å½•
cd mobile

# å®‰è£… Flutter ä¾èµ–
flutter pub get
```

#### è¿è¡Œåº”ç”¨

```bash
# è°ƒè¯•æ¨¡å¼
flutter run

# æ„å»º Android APK
flutter build apk --debug

# æ„å»º iOS (éœ€è¦ macOS)
flutter build ipa --debug
```

#### é¡¹ç›®é…ç½®

ç¼–è¾‘ `mobile/lib/services/api_client.dart`:

```dart
// ä¿®æ”¹æœåŠ¡å™¨åœ°å€
final String baseUrl = 'http://192.168.1.100:8000';
```

---

## ğŸ”§ é…ç½®è¯´æ˜

### æœåŠ¡å™¨é…ç½®

| ç¯å¢ƒå˜é‡ | é»˜è®¤å€¼ | è¯´æ˜ |
|---------|--------|------|
| `DATABASE_URL` | postgresql://... | æ•°æ®åº“è¿æ¥ |
| `REDIS_URL` | redis://... | Redis è¿æ¥ |
| `SMTP_HOST` | smtp.gmail.com | é‚®ä»¶æœåŠ¡å™¨ |
| `ALERT_LEAVE_MINUTES` | 15 | ç¦»å¼€æé†’é˜ˆå€¼ |
| `ALERT_PLAY_MINUTES` | 5 | ç©è€æé†’é˜ˆå€¼ |

### æ‰‹æœºç«¯é…ç½®

| é…ç½®é¡¹ | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|--------|------|
| æœåŠ¡å™¨åœ°å€ | http://192.168.1.100:8000 | API æœåŠ¡å™¨ |
| ç¦»å¼€é˜ˆå€¼ | 15 åˆ†é’Ÿ | è§¦å‘æé†’æ—¶é—´ |
| ç©è€é˜ˆå€¼ | 5 åˆ†é’Ÿ | è§¦å‘æé†’æ—¶é—´ |
| è§†é¢‘è´¨é‡ | 720p | æ¸…æ™°åº¦ |
| è‡ªåŠ¨åŒæ­¥ | 5 åˆ†é’Ÿ | é—´éš”æ—¶é—´ |

---

## ğŸ“Š API æ¥å£

### ä¸Šä¼ æ¥å£

| æ–¹æ³• | è·¯å¾„ | æè¿° |
|------|------|------|
| POST | `/api/v1/upload/metadata` | ä¸Šä¼ æ´»åŠ¨å…ƒæ•°æ® |
| POST | `/api/v1/upload/video` | ä¸Šä¼ è§†é¢‘ç‰‡æ®µ |

### åˆ†ææ¥å£

| æ–¹æ³• | è·¯å¾„ | æè¿° |
|------|------|------|
| GET | `/api/v1/analysis/session/{id}` | è·å–ä¼šè¯åˆ†æ |
| POST | `/api/v1/analysis/segment` | åˆ†ææ—¶é—´æ®µ |

### æŠ¥å‘Šæ¥å£

| æ–¹æ³• | è·¯å¾„ | æè¿° |
|------|------|------|
| GET | `/api/v1/report/daily/{child_id}` | æ¯æ—¥æŠ¥å‘Š |
| GET | `/api/v1/report/weekly/{child_id}` | æ¯å‘¨æŠ¥å‘Š |

### æé†’æ¥å£

| æ–¹æ³• | è·¯å¾„ | æè¿° |
|------|------|------|
| POST | `/api/v1/alert/config` | è®¾ç½®æé†’é…ç½® |
| GET | `/api/v1/alert/status/{session_id}` | æé†’çŠ¶æ€ |

---

## ğŸ§ª æµ‹è¯•

### æœåŠ¡å™¨ç«¯æµ‹è¯•

```bash
# è¿è¡Œæ¨¡æ‹Ÿæµ‹è¯•
cd server
python3 simulate_light.py
```

é¢„æœŸè¾“å‡º:

```
ğŸ“Š Step 1: GPU Detection
   âœ… GPU Available: NVIDIA RTX 5070 Ti
   
ğŸ“¹ Step 4: Simulating Activities
   ğŸ”„ 20 min - AWAY! (triggers alert at 15min)
      âš ï¸  ALERT: Child away > 15 min!
      
ğŸ”” Step 7: Alert Summary
   ğŸš¨ Total Alerts: 2
```

### æ‰‹æœºç«¯æµ‹è¯•

```bash
# è¿è¡Œ Flutter æµ‹è¯•
cd mobile
flutter test

# è¿è¡Œç‰¹å®šæµ‹è¯•
flutter test test/database_test.dart
```

---

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | ç›®æ ‡å€¼ | å®é™…å€¼ |
|------|--------|--------|
| æœ¬åœ°æ¨ç†å»¶è¿Ÿ | < 50ms | ~30ms |
| æœåŠ¡å™¨å“åº” | < 100ms | ~50ms |
| è§†é¢‘å‹ç¼©ç‡ | > 80% | ~85% |
| å†…å­˜å ç”¨ (æ‰‹æœº) | < 200MB | ~150MB |
| ç”µæ± æ¶ˆè€— | < 10%/hour | ~5%/hour |

---

## ğŸ” å®‰å…¨è€ƒè™‘

- [ ] æ•°æ®åŠ å¯†ä¼ è¾“ (HTTPS)
- [ ] ç”¨æˆ·èº«ä»½éªŒè¯
- [ ] æ•°æ®åŠ å¯†å­˜å‚¨
- [ ] éšç§åˆè§„ (GDPR/COPPA)

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. æ‰“å¼€ Pull Request

---

## ğŸ“„ è®¸å¯è¯

MIT License - see [LICENSE](LICENSE) for details.

---

## ğŸ™ è‡´è°¢

- [tonyliugd/monitoringStudy](https://github.com/tonyliugd/-) - ç›‘æ§ç®—æ³•å‚è€ƒ
- [MediaPipe](https://google.github.io/mediapipe/) - å§¿æ€æ£€æµ‹
- [TensorFlow Lite](https://www.tensorflow.org/lite) - è¾¹ç¼˜ AI
- [CoreML](https://developer.apple.com/coreml/) - iOS AI åŠ é€Ÿ

---

## ğŸ“ è”ç³»æ–¹å¼

- ä½œè€…: Vino
- Email: hello@example.com
- GitHub: https://github.com/vino/homework-guardian

---

*è®©æ¯ä¸ªå­©å­éƒ½èƒ½ä¸“æ³¨å­¦ä¹ ï¼Œè®©æ¯ä½å®¶é•¿éƒ½èƒ½æ”¾å¿ƒå·¥ä½œ* ğŸ ğŸ“š
